---
date: 2025-08-19
title: Auto-instrumenting Node.js Applications with Pino
id: nodejs-pino-logs
description: Automatically instrument your existing Node.js application with OpenTelemetry to capture both traces and logs using the Pino logging library
---

This document shows you how to send logs from your Node.js application using the Pino logging library to SigNoz. The setup automatically correlates your logs with traces when available, providing unified observability in SigNoz.

## Prerequisites

- Existing Node.js application using [Pino](https://getpino.io/) for logging

## Step 1: Install Required Packages

Install the OpenTelemetry packages needed for auto-instrumentation:

```bash
npm i @opentelemetry/sdk-node \
      @opentelemetry/auto-instrumentations-node \
      @opentelemetry/instrumentation-pino \
      @opentelemetry/exporter-trace-otlp-http \
      @opentelemetry/exporter-logs-otlp-http
```

### Package Breakdown

- **`@opentelemetry/sdk-node`** - Core OpenTelemetry SDK for Node.js runtime
- **`@opentelemetry/auto-instrumentations-node`** - Automatic instrumentation for popular libraries (HTTP, Express, etc.)
- **`@opentelemetry/instrumentation-pino`** - Specific instrumentation for Pino logging library
- **`@opentelemetry/exporter-trace-otlp-http`** - OTLP HTTP exporter for traces
- **`@opentelemetry/exporter-logs-otlp-http`** - OTLP HTTP exporter for logs

## Step 2: Create OpenTelemetry Configuration

Create an OpenTelemetry configuration file at your project root:

<Tabs>
<TabItem value="js" label="JavaScript">

```javascript:otel.js
'use strict';
const { NodeSDK, tracing, logs } = require('@opentelemetry/sdk-node');
const { getNodeAutoInstrumentations } = require('@opentelemetry/auto-instrumentations-node');
const { PinoInstrumentation } = require('@opentelemetry/instrumentation-pino');
const { OTLPTraceExporter } = require('@opentelemetry/exporter-trace-otlp-http');
const { OTLPLogExporter } = require('@opentelemetry/exporter-logs-otlp-http');

// Use batch processors for production-friendly behavior
const spanProcessor = new tracing.BatchSpanProcessor(new OTLPTraceExporter());
const logRecordProcessor = new logs.BatchLogRecordProcessor(new OTLPLogExporter());

// Build and start the SDK before your app loads Pino
const sdk = new NodeSDK({
  spanProcessor,
  logRecordProcessor,
  instrumentations: [
    getNodeAutoInstrumentations(), // Creates spans for HTTP, Express, and more
    new PinoInstrumentation({
    }),
  ],
});

sdk.start();

// Optional graceful shutdown
process.on('SIGTERM', () => {
  sdk.shutdown().finally(() => process.exit(0));
});
```

</TabItem>
<TabItem value="ts" label="TypeScript">

```typescript:otel.ts
import { NodeSDK, tracing, logs } from '@opentelemetry/sdk-node';
import { getNodeAutoInstrumentations } from '@opentelemetry/auto-instrumentations-node';
import { PinoInstrumentation } from '@opentelemetry/instrumentation-pino';
import { OTLPTraceExporter } from '@opentelemetry/exporter-trace-otlp-http';
import { OTLPLogExporter } from '@opentelemetry/exporter-logs-otlp-http';

// Use batch processors for production-friendly behavior
const spanProcessor = new tracing.BatchSpanProcessor(new OTLPTraceExporter());
const logRecordProcessor = new logs.BatchLogRecordProcessor(new OTLPLogExporter());

// Build and start the SDK before your app loads Pino
const sdk = new NodeSDK({
  spanProcessor,
  logRecordProcessor,
  instrumentations: [
    getNodeAutoInstrumentations(), // Creates spans for HTTP, Express, and more
    new PinoInstrumentation({
      // Optional: customize injected keys
      // logKeys: { traceId: 'trace_id', spanId: 'span_id', traceFlags: 'trace_flags' }
    }),
  ],
});

sdk.start();

// Optional graceful shutdown
process.on('SIGTERM', () => {
  sdk.shutdown().finally(() => process.exit(0));
});
```

</TabItem>
</Tabs>

### Configuration Notes

- **Batch processors** are used for production efficiency, batching spans and logs before export
- **Auto-instrumentations** automatically create spans for HTTP requests, Express routes, and other common libraries
- **Pino instrumentation** injects trace context into your logs and forwards log records to the OpenTelemetry Logs SDK
- The SDK must be started **before** your application imports Pino

## Step 3: Configure and Run Your Application

### Set Environment Variables

<Tabs entityName="plans">
<TabItem value="signoz-cloud" label="SigNoz Cloud" default>

```bash
export OTEL_SERVICE_NAME=<service_name>
export OTEL_EXPORTER_OTLP_ENDPOINT="https://ingest.<region>.signoz.cloud:443"
export OTEL_EXPORTER_OTLP_HEADERS="signoz-ingestion-key=<your-ingestion-key>"
```

- Set the `<region>` to match your SigNoz Cloud [region](https://signoz.io/docs/ingestion/signoz-cloud/overview/#endpoint)
- Replace `<your-ingestion-key>` with your SigNoz [ingestion key](https://signoz.io/docs/ingestion/signoz-cloud/keys/)
- `<service_name>` is name of your service

</TabItem>
<TabItem value="self-host" label="Self-Host">

```bash
export OTEL_SERVICE_NAME=<service_name>
export OTEL_EXPORTER_OTLP_ENDPOINT="http://<collector-host>:4318"
```

- Replace `<collector-host>` with your OpenTelemetry collector host
- `<service_name>` is name of your service

</TabItem>
</Tabs>

### Start Your Application

<Tabs>
<TabItem value="js" label="JavaScript">

```bash
node -r ./otel.js app.js
```

</TabItem>
<TabItem value="ts" label="TypeScript">

```bash
node -r ./otel.ts app.ts
```

</TabItem>
</Tabs>

The `-r` flag ensures the OpenTelemetry SDK loads and initializes before your application imports Pino.

## Verification

After starting your application:

1. **Make some requests** to your application endpoints
2. **Check SigNoz** for incoming logs
3. **Verify correlation** - your logs should contain trace IDs and be correlated with spans if available

<figure data-zoomable align='center'>
    <img src="/img/docs/logs-management/send-logs/nodejs-pino-logs.webp" alt="Pino Logs with Span ID and Trace ID"/>
    <figcaption><i>Pino Logs with Span ID and Trace ID for Correlation</i></figcaption>
</figure>
